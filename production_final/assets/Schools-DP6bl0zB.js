import{r as l,G as P,j as e,S as E,x as u}from"./app-BmXzstTo.js";import{S as T}from"./SuperAdminLayout-B1stFyjC.js";import B from"./ImportSchoolsModal-fD7YijAM.js";import{U as I}from"./upload-Cu0yoOdN.js";import{P as A}from"./plus-7zc0NDCz.js";import{S as D}from"./search-_xsqA0pD.js";import{B as L}from"./building-2-DCjcFU4J.js";import{S as K}from"./square-pen-olqTqJlB.js";import{T as $}from"./trash-2-CfYXDssV.js";/* empty css            */import"./x-DzZFyPlW.js";import"./createLucideIcon-CbxtxbOl.js";import"./file-text-Dt8qNOeG.js";import"./download-D5e-UOUJ.js";function Z({schools:r,debug:h,error:f}){const[g,d]=l.useState(!1),[b,m]=l.useState(!1),[j,c]=l.useState(!1),[y,x]=l.useState(null),[i,w]=l.useState("");console.log("Schools component - schools:",r),console.log("Schools component - debug:",h),console.log("Schools component - error:",f);const{data:o,setData:t,post:N,put:v,processing:n,errors:a,reset:p}=P({npsn:"",name:"",password:""}),S=((r==null?void 0:r.data)||[]).filter(s=>s.name.toLowerCase().includes(i.toLowerCase())||s.npsn.includes(i)),k=()=>{N("/schools",{onSuccess:()=>{d(!1),p()}})},C=()=>{v(`/schools/${y.id}`,{onSuccess:()=>{m(!1),x(null),p()}})},M=s=>{x(s),t({npsn:s.npsn,name:s.name,password:""}),m(!0)};return e.jsxs(T,{children:[e.jsx(E,{title:"Kelola Sekolah"}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"bg-white shadow-sm border rounded-lg mb-4 sm:mb-6",children:e.jsx("div",{className:"px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Kelola Sekolah"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Daftar dan kelola semua sekolah terdaftar"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Import CSV"}),e.jsx("span",{className:"sm:hidden",children:"Import"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-maroon-600 hover:bg-maroon-700",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Tambah Sekolah"}),e.jsx("span",{className:"sm:hidden",children:"Tambah"})]})]})]})})}),e.jsx("div",{className:"mb-4 sm:mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari sekolah...",value:i,onChange:s=>w(s.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-maroon-500 focus:border-maroon-500 text-sm"})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:S.map(s=>e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(L,{className:"h-6 w-6 sm:h-8 sm:w-8 text-maroon-600"})}),e.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900 truncate",children:s.name})}),e.jsx("div",{className:"mt-1 flex items-center",children:e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["NPSN: ",s.npsn]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(u,{href:`/schools/${s.id}`,className:"text-indigo-600 hover:text-indigo-900",children:"Lihat Detail"}),e.jsx("button",{onClick:()=>M(s),className:"text-maroon-600 hover:text-maroon-900",children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx(u,{href:`/schools/${s.id}`,method:"delete",as:"button",className:"text-red-600 hover:text-red-900",children:e.jsx($,{className:"h-4 w-4"})})]})]})})},s.id))})}),g&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tambah Sekolah Baru"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"NPSN"}),e.jsx("input",{type:"text",value:o.npsn,onChange:s=>t("npsn",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500",placeholder:"Masukkan NPSN"}),a.npsn&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.npsn})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Sekolah"}),e.jsx("input",{type:"text",value:o.name,onChange:s=>t("name",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500",placeholder:"Masukkan nama sekolah"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password Default"}),e.jsx("input",{type:"password",value:o.password,onChange:s=>t("password",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500",placeholder:"Masukkan password default"}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>d(!1),className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Batal"}),e.jsx("button",{onClick:k,disabled:n,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-maroon-600 rounded-md hover:bg-maroon-700 disabled:opacity-50",children:n?"Menyimpan...":"Simpan"})]})]})})}),b&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Sekolah"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"NPSN"}),e.jsx("input",{type:"text",value:o.npsn,onChange:s=>t("npsn",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500"}),a.npsn&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.npsn})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Sekolah"}),e.jsx("input",{type:"text",value:o.name,onChange:s=>t("name",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password Baru (opsional)"}),e.jsx("input",{type:"password",value:o.password,onChange:s=>t("password",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500",placeholder:"Kosongkan jika tidak ingin mengubah password"}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>m(!1),className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Batal"}),e.jsx("button",{onClick:C,disabled:n,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-maroon-600 rounded-md hover:bg-maroon-700 disabled:opacity-50",children:n?"Menyimpan...":"Simpan"})]})]})})}),e.jsx(B,{isOpen:j,onClose:()=>c(!1),onSuccess:()=>{window.location.reload()}})]})]})}export{Z as default};
