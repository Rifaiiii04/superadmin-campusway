import{r as o,G as C,j as e,S as M,x as p}from"./app-Cmg1-cqd.js";import{S as P}from"./SuperAdminLayout-DtwxpEpE.js";import E from"./ImportSchoolsModal-CsjChG1j.js";import{U as T}from"./upload-DtlxuHGY.js";import{P as B,S as I}from"./search-DgbF5B6X.js";import{B as A}from"./building-2-DIcUuqNa.js";import{S as D}from"./square-pen-BfhC4RrU.js";import{T as L}from"./trash-2-BugzDCVZ.js";/* empty css            */import"./x-B-12kS2G.js";import"./createLucideIcon-CKh2Sp53.js";import"./file-text-Cocr6uo_.js";import"./download-CTo36Zci.js";function W({schools:u}){const[h,n]=o.useState(!1),[f,d]=o.useState(!1),[b,i]=o.useState(!1),[g,c]=o.useState(null),[m,j]=o.useState(""),{data:l,setData:t,post:y,put:w,processing:r,errors:a,reset:x}=C({npsn:"",name:"",password:""}),N=u.data.filter(s=>s.name.toLowerCase().includes(m.toLowerCase())||s.npsn.includes(m)),v=()=>{y("/schools",{onSuccess:()=>{n(!1),x()}})},k=()=>{w(`/schools/${g.id}`,{onSuccess:()=>{d(!1),c(null),x()}})},S=s=>{c(s),t({npsn:s.npsn,name:s.name,password:""}),d(!0)};return e.jsxs(P,{children:[e.jsx(M,{title:"Kelola Sekolah"}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"bg-white shadow-sm border rounded-lg mb-4 sm:mb-6",children:e.jsx("div",{className:"px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Kelola Sekolah"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Daftar dan kelola semua sekolah terdaftar"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Import CSV"}),e.jsx("span",{className:"sm:hidden",children:"Import"})]}),e.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-maroon-600 hover:bg-maroon-700",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Tambah Sekolah"}),e.jsx("span",{className:"sm:hidden",children:"Tambah"})]})]})]})})}),e.jsx("div",{className:"mb-4 sm:mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari sekolah...",value:m,onChange:s=>j(s.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-maroon-500 focus:border-maroon-500 text-sm"})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:N.map(s=>e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(A,{className:"h-6 w-6 sm:h-8 sm:w-8 text-maroon-600"})}),e.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("p",{className:"text-sm sm:text-base font-medium text-gray-900 truncate",children:s.name})}),e.jsx("div",{className:"mt-1 flex items-center",children:e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["NPSN: ",s.npsn]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(p,{href:`/schools/${s.id}`,className:"text-indigo-600 hover:text-indigo-900",children:"Lihat Detail"}),e.jsx("button",{onClick:()=>S(s),className:"text-maroon-600 hover:text-maroon-900",children:e.jsx(D,{className:"h-4 w-4"})}),e.jsx(p,{href:`/schools/${s.id}`,method:"delete",as:"button",className:"text-red-600 hover:text-red-900",children:e.jsx(L,{className:"h-4 w-4"})})]})]})})},s.id))})}),h&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tambah Sekolah Baru"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"NPSN"}),e.jsx("input",{type:"text",value:l.npsn,onChange:s=>t("npsn",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500",placeholder:"Masukkan NPSN"}),a.npsn&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.npsn})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Sekolah"}),e.jsx("input",{type:"text",value:l.name,onChange:s=>t("name",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500",placeholder:"Masukkan nama sekolah"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password Default"}),e.jsx("input",{type:"password",value:l.password,onChange:s=>t("password",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500",placeholder:"Masukkan password default"}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>n(!1),className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Batal"}),e.jsx("button",{onClick:v,disabled:r,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-maroon-600 rounded-md hover:bg-maroon-700 disabled:opacity-50",children:r?"Menyimpan...":"Simpan"})]})]})})}),f&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Sekolah"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"NPSN"}),e.jsx("input",{type:"text",value:l.npsn,onChange:s=>t("npsn",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500"}),a.npsn&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.npsn})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Sekolah"}),e.jsx("input",{type:"text",value:l.name,onChange:s=>t("name",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password Baru (opsional)"}),e.jsx("input",{type:"password",value:l.password,onChange:s=>t("password",s.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-maroon-500 focus:border-maroon-500",placeholder:"Kosongkan jika tidak ingin mengubah password"}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>d(!1),className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Batal"}),e.jsx("button",{onClick:k,disabled:r,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-maroon-600 rounded-md hover:bg-maroon-700 disabled:opacity-50",children:r?"Menyimpan...":"Simpan"})]})]})})}),e.jsx(E,{isOpen:b,onClose:()=>i(!1),onSuccess:()=>{window.location.reload()}})]})]})}export{W as default};
